(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{9520:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cli",function(){return n(3054)}])},3054:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return c}});var i=n(7758),r=n(6622),l=n(4242),o=n(9872);n(1328);var t=n(4197);let c=[{depth:2,value:"Install",id:"install"},{depth:2,value:"Minimal run",id:"minimal-run"},{depth:2,value:"Injecting CSS imports into compiled output",id:"injecting-css-imports-into-compiled-output"},{depth:2,value:"Options (reference)",id:"options-reference"},{depth:2,value:"Migration notes (@linaria/cli → @wyw-in-js/cli)",id:"migration-notes-linariacli--wyw-in-jscli"}];function _createMdxContent(e){let s=Object.assign({h1:"h1",code:"code",p:"p",h2:"h2",pre:"pre",span:"span",ul:"ul",li:"li",a:"a",strong:"strong"},(0,t.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{children:["CLI (",(0,i.jsx)(s.code,{children:"@wyw-in-js/cli"}),")"]}),"\n",(0,i.jsxs)(s.p,{children:["Use ",(0,i.jsx)(s.code,{children:"@wyw-in-js/cli"})," to run WyW extraction as a standalone step (outside of a bundler plugin)."]}),"\n",(0,i.jsx)(s.h2,{id:"install",children:"Install"}),"\n",(0,i.jsx)(s.pre,{"data-language":"sh","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"sh","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# npm"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npm"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"i"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-D"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"@wyw-in-js/cli"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# yarn"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"yarn"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"add"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-D"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"@wyw-in-js/cli"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# pnpm"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"pnpm"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"add"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-D"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"@wyw-in-js/cli"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# bun"})}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"bun"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"add"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"-d"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"@wyw-in-js/cli"})]})]})}),"\n",(0,i.jsx)(s.h2,{id:"minimal-run",children:"Minimal run"}),"\n",(0,i.jsx)(s.pre,{"data-language":"sh","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"sh","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"wyw-in-js"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--source-root"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"./src"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--out-dir"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"./dist/wyw-css"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"src/**/*.{ts,tsx,js,jsx}"'})]})]})}),"\n",(0,i.jsx)(s.h2,{id:"injecting-css-imports-into-compiled-output",children:"Injecting CSS imports into compiled output"}),"\n",(0,i.jsxs)(s.p,{children:["If you compile your sources into ",(0,i.jsx)(s.code,{children:"dist/"}),", you can also append ",(0,i.jsx)(s.code,{children:"import"}),"/",(0,i.jsx)(s.code,{children:"require"})," statements to the compiled JS files:"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"sh","data-theme":"default",children:(0,i.jsxs)(s.code,{"data-language":"sh","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"wyw-in-js"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--config"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"./wyw-in-js.config.js"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--source-root"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"./src"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--out-dir"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"./dist/wyw-css"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--insert-css-requires"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"./dist"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--modules"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"esnext"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"--transform"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"src/**/*.{ts,tsx,js,jsx}"'})]})]})}),"\n",(0,i.jsx)(s.p,{children:"Notes:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--modules commonjs"})," inserts ",(0,i.jsx)(s.code,{children:"require(...)"}),"; any other value inserts ",(0,i.jsx)(s.code,{children:'import "..."'}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--transform"})," controls whether the CLI uses the transformed JS output produced by WyW when updating files."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"options-reference",children:"Options (reference)"}),"\n",(0,i.jsxs)(s.p,{children:["The CLI options below are based on ",(0,i.jsx)(s.code,{children:"wyw-in-js --help"}),"."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--out-dir"}),", ",(0,i.jsx)(s.code,{children:"-o"})," (required): output directory for extracted CSS files."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--source-root"}),", ",(0,i.jsx)(s.code,{children:"-r"})," (required): directory containing source files passed as CLI arguments."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--config"}),", ",(0,i.jsx)(s.code,{children:"-c"}),": config file path (see ",(0,i.jsx)(s.a,{href:"/configuration",children:"/configuration"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--insert-css-requires"}),", ",(0,i.jsx)(s.code,{children:"-i"}),": directory containing compiled JS output to append CSS imports/requires to."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--modules"}),", ",(0,i.jsx)(s.code,{children:"-m"})," (default: ",(0,i.jsx)(s.code,{children:"commonjs"}),"): controls injected statement style. Allowed values: ",(0,i.jsx)(s.code,{children:"commonjs"}),", ",(0,i.jsx)(s.code,{children:"es2015"}),",\n",(0,i.jsx)(s.code,{children:"es6"}),", ",(0,i.jsx)(s.code,{children:"esnext"}),", ",(0,i.jsx)(s.code,{children:"native"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--transform"}),", ",(0,i.jsx)(s.code,{children:"-t"}),": replace template tags with evaluated values (used when updating compiled JS output)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--source-maps"}),", ",(0,i.jsx)(s.code,{children:"-s"}),": generate ",(0,i.jsx)(s.code,{children:".map"})," files for extracted CSS."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--parallel"}),", ",(0,i.jsx)(s.code,{children:"-p"}),": run extraction in parallel."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--ignore"}),", ",(0,i.jsx)(s.code,{children:"-x"}),": glob pattern to exclude files (passed to ",(0,i.jsx)(s.code,{children:"glob"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--debug"}),", ",(0,i.jsx)(s.code,{children:"-d"}),": write debug output (transform events) into a directory."]}),"\n"]}),"\n",(0,i.jsxs)(s.h2,{id:"migration-notes-linariacli--wyw-in-jscli",children:["Migration notes (",(0,i.jsx)(s.code,{children:"@linaria/cli"})," → ",(0,i.jsx)(s.code,{children:"@wyw-in-js/cli"}),")"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["The binary name is ",(0,i.jsx)(s.code,{children:"wyw-in-js"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["For advanced settings, use a config file (",(0,i.jsx)(s.code,{children:"--config"})," / ",(0,i.jsx)(s.code,{children:"wyw-in-js.config.js"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"@wyw-in-js/cli"})," runs ",(0,i.jsx)(s.code,{children:"@wyw-in-js/transform"}),", which depends on ",(0,i.jsx)(s.code,{children:"happy-dom"})," and enables it by default via\n",(0,i.jsx)(s.code,{children:"features.happyDOM"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["You can disable ",(0,i.jsx)(s.strong,{children:"usage"})," of DOM emulation in your config: ",(0,i.jsx)(s.code,{children:"features: { happyDOM: false }"})," (see\n",(0,i.jsx)(s.a,{href:"/feature-flags",children:"/feature-flags"}),"). This does ",(0,i.jsx)(s.strong,{children:"not"})," remove ",(0,i.jsx)(s.code,{children:"happy-dom"})," from your lockfile — it only prevents creating\na DOM during build-time eval."]}),"\n"]})]})}let a={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,t.a)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/cli.mdx",route:"/cli",timestamp:1767986833e3,pageMap:[{kind:"Meta",data:{index:"Introduction",stability:"Stability","how-it-works":"How it works?","how-to":"How to use",bundlers:"Supported bundlers",cli:"CLI",changelog:"Changelog",configuration:"Configuration","feature-flags":"Feature Flags"}},{kind:"Folder",name:"bundlers",route:"/bundlers",children:[{kind:"MdxPage",name:"bun",route:"/bundlers/bun"},{kind:"MdxPage",name:"esbuild",route:"/bundlers/esbuild"},{kind:"MdxPage",name:"nextjs",route:"/bundlers/nextjs"},{kind:"MdxPage",name:"parcel",route:"/bundlers/parcel"},{kind:"MdxPage",name:"rollup",route:"/bundlers/rollup"},{kind:"MdxPage",name:"rspack",route:"/bundlers/rspack"},{kind:"MdxPage",name:"svelte",route:"/bundlers/svelte"},{kind:"MdxPage",name:"vite",route:"/bundlers/vite"},{kind:"MdxPage",name:"webpack",route:"/bundlers/webpack"},{kind:"Meta",data:{bun:"Bun",esbuild:"Esbuild",nextjs:"Nextjs",parcel:"Parcel",rollup:"Rollup",rspack:"Rspack",svelte:"Svelte",vite:"Vite",webpack:"Webpack"}}]},{kind:"MdxPage",name:"changelog",route:"/changelog"},{kind:"MdxPage",name:"cli",route:"/cli"},{kind:"MdxPage",name:"configuration",route:"/configuration"},{kind:"MdxPage",name:"feature-flags",route:"/feature-flags"},{kind:"MdxPage",name:"how-it-works",route:"/how-it-works"},{kind:"Folder",name:"how-to",route:"/how-to",children:[{kind:"MdxPage",name:"bundler-agnostic",route:"/how-to/bundler-agnostic"},{kind:"MdxPage",name:"custom-tagged-template",route:"/how-to/custom-tagged-template"},{kind:"Meta",data:{"bundler-agnostic":"Bundler Agnostic","custom-tagged-template":"Custom Tagged Template"}}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"stability",route:"/stability"}],flexsearch:{codeblocks:!0},title:"CLI (@wyw-in-js/cli)",headings:c},pageNextRoute:"/cli",nextraLayout:l.ZP,themeConfig:o.Z};s.default=(0,r.j)(a)},9872:function(e,s,n){"use strict";var i=n(7758);s.Z={footer:{component:null},logo:(0,i.jsx)("span",{children:"WyW-in-JS"}),primaryHue:210,primarySaturation:100,project:{docsRepositoryBase:"https://github.com/Anber/wyw-in-js/tree/main/apps/website",link:"https://github.com/Anber/wyw-in-js"},useNextSeoProps:()=>({titleTemplate:"%s – WyW-in-JS"})}},1801:function(){}},function(e){e.O(0,[774,471,888,179],function(){return e(e.s=9520)}),_N_E=e.O()}]);